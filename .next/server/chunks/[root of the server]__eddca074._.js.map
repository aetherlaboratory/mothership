{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/api/products/route.js"],"sourcesContent":["// app/api/products/route.js\n\nimport axios from 'axios';\n\nexport async function GET() {\n  try {\n    const url = `${process.env.NEXT_PUBLIC_WOOCOMMERCE_STORE_URL}/wp-json/wc/v3/products?per_page=100`;\n\n    console.log(\"üåê Requesting:\", url);\n    console.log(\"üîê Using Key:\", process.env.NEXT_PUBLIC_WOOCOMMERCE_CONSUMER_KEY?.slice(0, 10), \"...\");\n\n    const response = await axios.get(url, {\n      auth: {\n        username: process.env.NEXT_PUBLIC_WOOCOMMERCE_CONSUMER_KEY,\n        password: process.env.NEXT_PUBLIC_WOOCOMMERCE_CONSUMER_SECRET,\n      },\n    });\n\n    const allProducts = response.data;\n\n    const filtered = allProducts.filter(product => {\n      const isDownloadable = product.downloadable === true;\n\n      const tags = product.tags || [];\n      const hasExcludedTag = tags.some(tag => {\n        const slug = tag?.slug?.toLowerCase?.() || '';\n        return slug === 'subscription-plan' || slug.includes('ticket');\n      });\n\n      const shouldInclude = !isDownloadable && !hasExcludedTag;\n\n      console.log(`üß™ [${product.name}]`, {\n        isDownloadable,\n        hasExcludedTag,\n        shouldInclude,\n      });\n\n      return shouldInclude;\n    });\n\n    console.log(\"üéØ Products after filtering:\", filtered.length);\n\n    return new Response(JSON.stringify(filtered), {\n      status: 200,\n      headers: { 'Content-Type': 'application/json' },\n    });\n\n  } catch (error) {\n    console.error(\"‚ùå WooCommerce API Error:\", {\n      status: error.response?.status,\n      data: error.response?.data,\n      message: error.message,\n    });\n\n    return new Response(\n      JSON.stringify({\n        error: error.response?.data || error.message || \"Unknown error\",\n      }),\n      {\n        status: 500,\n        headers: { 'Content-Type': 'application/json' },\n      }\n    );\n  }\n}\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;AAE5B;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,MAAM,2EAAiD,oCAAoC,CAAC;QAElG,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,QAAQ,GAAG,CAAC,kGAAmE,MAAM,GAAG,KAAK;QAE7F,MAAM,WAAW,MAAM,uIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,KAAK;YACpC,MAAM;gBACJ,QAAQ;gBACR,QAAQ;YACV;QACF;QAEA,MAAM,cAAc,SAAS,IAAI;QAEjC,MAAM,WAAW,YAAY,MAAM,CAAC,CAAA;YAClC,MAAM,iBAAiB,QAAQ,YAAY,KAAK;YAEhD,MAAM,OAAO,QAAQ,IAAI,IAAI,EAAE;YAC/B,MAAM,iBAAiB,KAAK,IAAI,CAAC,CAAA;gBAC/B,MAAM,OAAO,KAAK,MAAM,mBAAmB;gBAC3C,OAAO,SAAS,uBAAuB,KAAK,QAAQ,CAAC;YACvD;YAEA,MAAM,gBAAgB,CAAC,kBAAkB,CAAC;YAE1C,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,QAAQ,IAAI,CAAC,CAAC,CAAC,EAAE;gBAClC;gBACA;gBACA;YACF;YAEA,OAAO;QACT;QAEA,QAAQ,GAAG,CAAC,gCAAgC,SAAS,MAAM;QAE3D,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC,WAAW;YAC5C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;YACxC,QAAQ,MAAM,QAAQ,EAAE;YACxB,MAAM,MAAM,QAAQ,EAAE;YACtB,SAAS,MAAM,OAAO;QACxB;QAEA,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YACb,OAAO,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO,IAAI;QAClD,IACA;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ;AACF","debugId":null}}]
}