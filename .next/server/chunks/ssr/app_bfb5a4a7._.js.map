{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/utils/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst WORDPRESS_API_URL = \"https://mothership.wordifysites.com/wp-json/wp/v2\";\nconst WOOCOMMERCE_API_URL = process.env.NEXT_PUBLIC_WOOCOMMERCE_STORE_URL + \"/wp-json/wc/v3\";\nconst CONSUMER_KEY = process.env.NEXT_PUBLIC_WOOCOMMERCE_CONSUMER_KEY;\nconst CONSUMER_SECRET = process.env.NEXT_PUBLIC_WOOCOMMERCE_CONSUMER_SECRET;\n\n\n\n\n/**\n * Fetch the current logged-in user's basic details for the Dashboard.\n * @param {string} token - The JWT token of the logged-in user.\n */\nexport const getUserData = async (token) => {\n  try {\n    const response = await axios.get(\"https://mothership.wordifysites.com/wp-json/wp/v2/users/me?context=edit\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    console.log(\"‚úÖ Dashboard User Data Retrieved:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"‚ùå Error fetching Dashboard user data:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\nexport const getAdminTokenForMediaUpload = async () => {\n  try {\n    const response = await axios.post(`${process.env.NEXT_PUBLIC_API_WP}/jwt-auth/v1/token`, {\n      username: process.env.NEXT_PUBLIC_WP_ADMIN_USERNAME,\n      password: process.env.NEXT_PUBLIC_WP_ADMIN_PASSWORD,\n    });\n\n    console.log(\"‚úÖ Admin JWT Token Retrieved:\", response.data.token);\n    return response.data.token;\n  } catch (error) {\n    console.error(\"‚ùå Failed to retrieve admin token:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n\n/** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n * ‚úÖ PROFILE PAGE API (Fetch Full User Profile)\n * This function is used **only for the profile page**\n * It retrieves user details including nickname, phone, website\n * ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n */\nexport const getProfileData = async (token) => {\n  try {\n    const response = await axios.get(`${WORDPRESS_API_URL}/users/me?context=edit`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    const user = response?.data;\n    console.log(\"‚úÖ Retrieved Full Profile Data:\", user);\n\n    // ‚úÖ Store key profile info in localStorage for global UI access\n    if (user) {\n      localStorage.setItem(\"userName\", user.nickname || user.username || \"Guest\");\n      localStorage.setItem(\"userEmail\", user.email || \"\");\n      localStorage.setItem(\"firstName\", user.first_name || \"\");\n      localStorage.setItem(\"lastName\", user.last_name || \"\");\n    }\n\n    return user;\n  } catch (error) {\n    console.error(\"‚ùå Error fetching profile data:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n/** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n * ‚úÖ PROFILE PICTURE UPLOAD (Upload to Media Library)\n * This uploads an image to the Media Library, returns the URL\n * ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n */\n\nexport const uploadProfilePicture = async (imageFile) => {\n  try {\n    const adminToken = await getAdminTokenForMediaUpload();\n\n    if (!adminToken) {\n      console.error(\"‚ùå Admin token not found. Cannot upload image.\");\n      return null;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", imageFile);\n    formData.append(\"title\", imageFile.name);\n\n    const response = await axios.post(\n      `${process.env.NEXT_PUBLIC_API_WP}/wp/v2/media`,\n      formData,\n      {\n        headers: {\n          Authorization: `Bearer ${adminToken}`,\n        },\n      }\n    );\n\n    console.log(\"‚úÖ Profile Picture Uploaded:\", response.data.source_url);\n    return response.data.source_url;\n  } catch (error) {\n    console.error(\"‚ùå Profile picture upload failed:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n/** ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n * ‚úÖ PROFILE UPDATE API (Edit User Details)\n * This function updates core user fields and profile image\n * ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n */\n\nexport const updateProfile = async (token, userData) => {\n  try {\n    const response = await axios.post(\n      `${process.env.NEXT_PUBLIC_API_WP}/wp/v2/users/me`,\n      {\n        first_name: userData.first_name,\n        last_name: userData.last_name,\n        nickname: userData.nickname,\n        email: userData.email,\n        billing_phone: userData.billing_phone,\n        user_website: userData.user_website,\n        custom_profile_image: userData.custom_profile_image || null, // ‚úÖ update image URL\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n\n    console.log(\"‚úÖ Profile Updated Successfully:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"‚ùå Error updating profile:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n\n\n\n\n\n/**\n * Register a new user in WordPress.\n */\n\nexport const registerUser = async (userData) => {\n  try {\n    console.log(\"üìå Sending userData to registerUser:\", userData);\n\n    // 1Ô∏è‚É£ Get the Admin JWT Token Securely\n    const adminToken = await getAdminToken();\n    if (!adminToken) {\n      console.error(\"‚ùå Cannot create user: Failed to authenticate admin.\");\n      return null;\n    }\n\n    // 2Ô∏è‚É£ Send Registration Request to Correct WordPress Endpoint\n    const response = await axios.post(\n      `${process.env.NEXT_PUBLIC_API_WP}/wp/v2/users`, // Correct URL\n      {\n        username: userData.username,\n        email: userData.email,\n        password: userData.password,\n        first_name: userData.first_name,\n        last_name: userData.last_name,\n        roles: [\"subscriber\"], // Assign default role\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${adminToken}`, // Authenticate as admin\n        },\n      }\n    );\n\n    console.log(\"‚úÖ User registered successfully:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"‚ùå Registration error:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n\n\n\n\nexport const loginUser = async (username, password) => {\n  try {\n    const response = await axios.post(\n      `${process.env.NEXT_PUBLIC_API_WP}/jwt-auth/v1/token`,\n      { username, password }\n    );\n\n    console.log(\"‚úÖ Full Login Response:\", response.data);\n\n    if (!response.data.token) {\n      console.error(\"‚ùå No token received from WordPress!\");\n      return null;\n    }\n\n    const token = response.data.token;\n    console.log(\"‚úÖ Extracted Token:\", token);\n\n    // ‚úÖ Store in localStorage\n    localStorage.setItem(\"userToken\", token);\n\n    return token;\n  } catch (error) {\n    console.error(\"‚ùå Login error:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n\n\n\n\n\n\n\n\nexport const getAdminToken = async () => {\n  try {\n    console.log(\"üìå Admin Username from ENV:\", process.env.NEXT_PUBLIC_WP_ADMIN_USERNAME);\n    console.log(\"üìå Admin Password from ENV:\", process.env.NEXT_PUBLIC_WP_ADMIN_PASSWORD ? \"Loaded\" : \"Not Found\");\n    console.log(\"üìå WordPress API URL:\", process.env.NEXT_PUBLIC_API_WP);\n\n    const response = await axios.post(`${process.env.NEXT_PUBLIC_API_WP}/jwt-auth/v1/token`, {\n      username: process.env.NEXT_PUBLIC_WP_ADMIN_USERNAME,\n      password: process.env.NEXT_PUBLIC_WP_ADMIN_PASSWORD,\n    });\n\n    console.log(\"‚úÖ Admin JWT Token Retrieved:\", response.data.token);\n    return response.data.token;\n  } catch (error) {\n    console.error(\"‚ùå Failed to retrieve admin token:\", error.response?.data || error.message);\n    return null;\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/hooks/useAuthGuard.js"],"sourcesContent":["// hooks/useAuthGuard.js\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { getUserData } from '../utils/api';\n\nexport default function useAuthGuard() {\n  const router = useRouter();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"userToken\");\n\n    if (!token) {\n      setTimeout(() => router.push(\"/login\"), 100);\n      return;\n    }\n\n    const fetchUser = async () => {\n      try {\n        const userData = await getUserData(token);\n        if (userData) setUser(userData);\n        else router.push(\"/login\");\n      } catch (err) {\n        router.push(\"/login\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, [router]);\n\n  return { user, loading };\n}\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;AACxB;AACA;AACA;;;;AAEe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QAEnC,IAAI,CAAC,OAAO;YACV,WAAW,IAAM,OAAO,IAAI,CAAC,WAAW;YACxC;QACF;QAEA,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,WAAW,MAAM,CAAA,GAAA,mHAAA,CAAA,cAAW,AAAD,EAAE;gBACnC,IAAI,UAAU,QAAQ;qBACjB,OAAO,IAAI,CAAC;YACnB,EAAE,OAAO,KAAK;gBACZ,OAAO,IAAI,CAAC;YACd,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,OAAO;QAAE;QAAM;IAAQ;AACzB","debugId":null}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/fetch/blogFetch.js"],"sourcesContent":["'use server';\n\n// ==============================\n// /app/crud/fetch/blogFetch.js\n// Handles GET and PUT requests to WordPress REST API for blog posts\n// ==============================\n\nimport blogDummyData from '../../dummy-data/blogDummyData.json';\nimport fs from 'fs/promises';\nimport path from 'path';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_WP;\nconst DUMMY_DATA_PATH = path.join(process.cwd(), 'app/dummy-data/blogDummyData.json');\n\nlet isUsingDummy = false;\n\n// ‚úÖ Load all posts (WordPress first, fallback to dummy)\nexport async function fetchPosts() {\n  try {\n    const res = await fetch(`${API_URL}/wp/v2/posts?per_page=20`);\n    if (!res.ok) throw new Error('Failed to fetch WordPress posts');\n    const data = await res.json();\n    isUsingDummy = false;\n    return {\n      source: 'wp',\n      data\n    };\n  } catch (error) {\n    console.warn('[Fallback] Loading local dummy posts');\n    isUsingDummy = true;\n    return {\n      source: 'dummy',\n      data: blogDummyData\n    };\n  }\n}\n\n// ‚úÖ Load single post by ID\nexport async function fetchPost(id) {\n  if (isUsingDummy) {\n    const found = blogDummyData.find((item) => item.id === id);\n    if (!found) throw new Error('Dummy post not found');\n    return found;\n  }\n\n  const res = await fetch(`${API_URL}/wp/v2/posts/${id}`);\n  if (!res.ok) throw new Error('Failed to fetch WordPress post');\n  return await res.json();\n}\n\n// ‚úÖ Update a post (WordPress or dummy JSON file)\nexport async function updatePost(id, newData, token) {\n  if (isUsingDummy) {\n    try {\n      const index = blogDummyData.findIndex((v) => v.id === id);\n      if (index === -1) throw new Error('Dummy post not found');\n\n      const updated = {\n        ...blogDummyData[index],\n        title: { rendered: newData.title },\n        content: { rendered: newData.content }\n      };\n\n      blogDummyData[index] = updated;\n      await fs.writeFile(DUMMY_DATA_PATH, JSON.stringify(blogDummyData, null, 2));\n\n      return updated;\n    } catch (err) {\n      console.error(err);\n      throw new Error('Failed to update dummy post');\n    }\n  }\n\n  const res = await fetch(`${API_URL}/wp/v2/posts/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(newData)\n  });\n\n  if (!res.ok) throw new Error('Failed to update WordPress post');\n  return await res.json();\n}\n"],"names":[],"mappings":";;;;;;;IAiBsB;IAqBA;IAaA","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/blog.js"],"sourcesContent":["'use client';\nimport { useEffect } from 'react';\nimport { fetchPosts } from './fetch/blogFetch'; // ‚úÖ you must import this\n\nexport const meta = {\n  slug: 'post',\n  plural: 'posts',\n  label: 'Blog',\n  postType: 'posts',\n  fetchAll: fetchPosts // ‚úÖ required for PostList\n};\n\nexport default function Blog() {\n  useEffect(() => {\n    // Optional logic\n  }, []);\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">Blog Manager</h2>\n      <p>Select a post on the left to edit it, or create a new one.</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA,iOAAgD,yBAAyB;AAFzE;;;;AAIO,MAAM,OAAO;IAClB,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;IACV,UAAU,kIAAW,0BAA0B;IAArC,CAAA,aAAU;AACtB;AAEe,SAAS;IACtB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;IACR,iBAAiB;IACnB,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;0BAAE;;;;;;;;;;;;AAGT","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/artwork.js"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\nexport const meta = {\n  slug: '2dart',\n  plural: null,\n  label: 'Artwork',\n    postType: '2dart'\n};\n\nexport default function Artwork() {\n  useEffect(() => {\n    // Fetch or prepare data here\n  }, []);\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">Artwork Manager</h2>\n      <p>CRUD UI for WordPress blog posts goes here.</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,MAAM,OAAO;IAClB,MAAM;IACN,QAAQ;IACR,OAAO;IACL,UAAU;AACd;AAEe,SAAS;IACtB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;IACR,6BAA6B;IAC/B,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;0BAAE;;;;;;;;;;;;AAGT","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/photography.js"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\n\nexport const meta = {\n  slug: 'photo',\n  plural: 'photos',\n  label: 'Photography',\n    postType: 'photos'\n};\n\nexport default function Photography() {\n  useEffect(() => {\n    // Fetch or prepare data here\n  }, []);\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">Photography Manager</h2>\n      <p>CRUD UI for WordPress blog posts goes here.</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,MAAM,OAAO;IAClB,MAAM;IACN,QAAQ;IACR,OAAO;IACL,UAAU;AACd;AAEe,SAAS;IACtB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;IACR,6BAA6B;IAC/B,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;0BAAE;;;;;;;;;;;;AAGT","debugId":null}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/audio.js"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\n\nexport const meta = {\n  slug: 'audio',\n  plural: null,\n  label: 'Songs',\n  postType: 'audio'\n};\n\n\n\nexport default function Audio() {\n  useEffect(() => {\n    // Fetch or prepare data here\n  }, []);\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">Audio Manager</h2>\n      <p>CRUD UI for WordPress blog posts goes here.</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,MAAM,OAAO;IAClB,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;AACZ;AAIe,SAAS;IACtB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;IACR,6BAA6B;IAC/B,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;0BAAE;;;;;;;;;;;;AAGT","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/fetch/videoFetch.js"],"sourcesContent":["// app/crud/fetch/videoFetch.js\n'use server';\n\nimport videoDummyData from '../../dummy-data/videoDummyData.json';\nimport fs from 'fs/promises';\nimport path from 'path';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_WP;\nconst DUMMY_DATA_PATH = path.join(process.cwd(), 'app/dummy-data/videoDummyData.json');\n\nlet isUsingDummy = false;\n\n// ‚úÖ Load all videos (WordPress first, fallback to dummy)\nexport async function fetchVideos() {\n  try {\n    const res = await fetch(`${API_URL}/wp/v2/films?per_page=20`);\n    if (!res.ok) throw new Error('Failed to fetch WordPress films');\n    const data = await res.json();\n    isUsingDummy = false;\n    return data;\n  } catch (error) {\n    console.warn('[Fallback] Loading local dummy videos');\n    isUsingDummy = true;\n    return videoDummyData;\n  }\n}\n\n// ‚úÖ Load single video by ID\nexport async function fetchVideo(id) {\n  if (isUsingDummy) {\n    const found = videoDummyData.find((item) => item.id === id);\n    if (!found) throw new Error('Dummy video not found');\n    return found;\n  }\n\n  const res = await fetch(`${API_URL}/wp/v2/films/${id}`);\n  if (!res.ok) throw new Error('Failed to fetch WordPress video');\n  return await res.json();\n}\n\n// ‚úÖ Update a video (WordPress or dummy JSON file)\nexport async function updateVideo(id, newData, token) {\n  if (isUsingDummy) {\n    try {\n      const index = videoDummyData.findIndex((v) => v.id === id);\n      if (index === -1) throw new Error('Dummy video not found');\n\n      const updated = {\n        ...videoDummyData[index],\n        title: { rendered: newData.title },\n        content: { rendered: newData.content }\n      };\n\n      videoDummyData[index] = updated;\n      await fs.writeFile(DUMMY_DATA_PATH, JSON.stringify(videoDummyData, null, 2));\n\n      return updated;\n    } catch (err) {\n      console.error(err);\n      throw new Error('Failed to update dummy video');\n    }\n  }\n\n  const res = await fetch(`${API_URL}/wp/v2/films/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(newData)\n  });\n\n  if (!res.ok) throw new Error('Failed to update WordPress video');\n  return await res.json();\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;;;IAaT;IAeA;IAaA","debugId":null}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/Videos.js"],"sourcesContent":["// app/crud/Videos.js\n'use client';\n\nimport { fetchVideos } from './fetch/videoFetch';\n\nexport const meta = {\n  slug: 'film',\n  plural: 'films',\n  label: 'Videos',\n  postType: 'films',\n  listType: 'thumbText',\n  fetchAll: fetchVideos\n};\n\nexport default function Video() {\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">Video Manager</h2>\n      <p>Manage your videos here.</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;AAGrB;AAFA;;;AAIO,MAAM,OAAO;IAClB,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;IACV,UAAU;IACV,UAAU,kIAAA,CAAA,cAAW;AACvB;AAEe,SAAS;IACtB,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;0BAAE;;;;;;;;;;;;AAGT","debugId":null}},
    {"offset": {"line": 520, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/Models3D.js"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\nexport const meta = {\n  slug: '3dart',\n  plural: null,\n  label: '3D Models',\n  postType: '3dart'\n};\n\nexport default function Models3D() {\n  useEffect(() => {\n    // Fetch or prepare data here\n  }, []);\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">3DModels Manager</h2>\n      <p>CRUD UI for WordPress blog posts goes here.</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,MAAM,OAAO;IAClB,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;AACZ;AAEe,SAAS;IACtB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;IACR,6BAA6B;IAC/B,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;0BAAE;;;;;;;;;;;;AAGT","debugId":null}},
    {"offset": {"line": 569, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/Events.js"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\n\nexport const meta = {\n  slug: 'event',\n  plural: 'events',\n  label: 'Events',\n  postType: 'events'\n};\n\nexport default function Events() {\n  useEffect(() => {\n    // Fetch or prepare data here\n  }, []);\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">Events Manager</h2>\n      <p>CRUD UI for WordPress blog posts goes here.</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,MAAM,OAAO;IAClB,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;AACZ;AAEe,SAAS;IACtB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;IACR,6BAA6B;IAC/B,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;0BAAE;;;;;;;;;;;;AAGT","debugId":null}},
    {"offset": {"line": 618, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/PostListItem.js"],"sourcesContent":["'use client';\nimport Image from 'next/image';\n\n// Helper to get the post thumbnail URL\nfunction getThumbnail(post) {\n  // Looks for the featured media image (requires `_embed` in the fetch URL)\n  return (\n    post?._embedded?.['wp:featuredmedia']?.[0]?.source_url ||\n    'https://via.placeholder.com/100x100?text=No+Image'\n  );\n}\n\nexport default function PostListItem({ post, listType = 'text', isSelected, onClick }) {\n  const baseClasses = 'p-2 border-b cursor-pointer hover:bg-gray-100 transition-all';\n  const activeClass = isSelected ? 'bg-gray-200 font-semibold' : '';\n\n  return (\n    <li onClick={onClick} className={`${baseClasses} ${activeClass}`}>\n      {listType === 'text' && <p>{post.title.rendered}</p>}\n\n      {listType === 'thumbnail' && (\n        <div className=\"w-full h-24 overflow-hidden rounded\">\n          <Image\n            src={getThumbnail(post)}\n            alt={post.title.rendered || 'Thumbnail'}\n            width={100}\n            height={100}\n            className=\"object-cover rounded\"\n          />\n        </div>\n      )}\n\n      {listType === 'thumbText' && (\n        <div className=\"flex items-center gap-3\">\n          <Image\n            src={getThumbnail(post)}\n            alt={post.title.rendered || 'Thumbnail'}\n            width={60}\n            height={60}\n            className=\"object-cover rounded\"\n          />\n          <p>{post.title.rendered}</p>\n        </div>\n      )}\n    </li>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGA,uCAAuC;AACvC,SAAS,aAAa,IAAI;IACxB,0EAA0E;IAC1E,OACE,MAAM,WAAW,CAAC,mBAAmB,EAAE,CAAC,EAAE,EAAE,cAC5C;AAEJ;AAEe,SAAS,aAAa,EAAE,IAAI,EAAE,WAAW,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE;IACnF,MAAM,cAAc;IACpB,MAAM,cAAc,aAAa,8BAA8B;IAE/D,qBACE,8OAAC;QAAG,SAAS;QAAS,WAAW,GAAG,YAAY,CAAC,EAAE,aAAa;;YAC7D,aAAa,wBAAU,8OAAC;0BAAG,KAAK,KAAK,CAAC,QAAQ;;;;;;YAE9C,aAAa,6BACZ,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK,aAAa;oBAClB,KAAK,KAAK,KAAK,CAAC,QAAQ,IAAI;oBAC5B,OAAO;oBACP,QAAQ;oBACR,WAAU;;;;;;;;;;;YAKf,aAAa,6BACZ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAK,aAAa;wBAClB,KAAK,KAAK,KAAK,CAAC,QAAQ,IAAI;wBAC5B,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;kCAEZ,8OAAC;kCAAG,KAAK,KAAK,CAAC,QAAQ;;;;;;;;;;;;;;;;;;AAKjC","debugId":null}},
    {"offset": {"line": 703, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/PostList.js"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport PostListItem from './PostListItem';\n\nexport default function PostList({ meta, onSelect, selectedId }) {\n  const [posts, setPosts] = useState([]);\n  const [source, setSource] = useState('wp');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null); // ‚úÖ added this\n\n  useEffect(() => {\n    let mounted = true;\n    setLoading(true);\n    setError(null); // ‚úÖ now this won't throw\n    console.log('[PostList] Fetching with meta:', meta);\n\n    meta\n      .fetchAll()\n      .then((res) => {\n        if (!mounted) return;\n        const items = res?.data || res || [];\n        setPosts(items);\n        setSource(res.source || 'wp');\n        console.log('[PostList] Posts loaded:', items.length);\n      })\n      .catch((err) => {\n        if (!mounted) return;\n        console.error('[PostList] Failed to fetch:', err);\n        setError('Failed to load posts.');\n      })\n      .finally(() => mounted && setLoading(false));\n\n    return () => {\n      mounted = false;\n    };\n  }, [meta]);\n\n  if (loading) return <p className=\"p-4 text-gray-500\">Loading posts‚Ä¶</p>;\n  if (error) return <p className=\"p-4 text-red-500\">{error}</p>;\n  if (posts.length === 0) return <p className=\"p-4 text-gray-500\">No posts found.</p>;\n\n  return (\n    <ul>\n      {posts.map((post) => (\n        <PostListItem\n          key={post.id}\n          post={post}\n          listType={meta.listType}\n          isSelected={selectedId === post.id}\n          onClick={() => onSelect({ id: post.id, source })}\n        />\n      ))}\n    </ul>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE;IAC7D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,eAAe;IAEzD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU;QACd,WAAW;QACX,SAAS,OAAO,yBAAyB;QACzC,QAAQ,GAAG,CAAC,kCAAkC;QAE9C,KACG,QAAQ,GACR,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,SAAS;YACd,MAAM,QAAQ,KAAK,QAAQ,OAAO,EAAE;YACpC,SAAS;YACT,UAAU,IAAI,MAAM,IAAI;YACxB,QAAQ,GAAG,CAAC,4BAA4B,MAAM,MAAM;QACtD,GACC,KAAK,CAAC,CAAC;YACN,IAAI,CAAC,SAAS;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,SAAS;QACX,GACC,OAAO,CAAC,IAAM,WAAW,WAAW;QAEvC,OAAO;YACL,UAAU;QACZ;IACF,GAAG;QAAC;KAAK;IAET,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAoB;;;;;;IACrD,IAAI,OAAO,qBAAO,8OAAC;QAAE,WAAU;kBAAoB;;;;;;IACnD,IAAI,MAAM,MAAM,KAAK,GAAG,qBAAO,8OAAC;QAAE,WAAU;kBAAoB;;;;;;IAEhE,qBACE,8OAAC;kBACE,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,2HAAA,CAAA,UAAY;gBAEX,MAAM;gBACN,UAAU,KAAK,QAAQ;gBACvB,YAAY,eAAe,KAAK,EAAE;gBAClC,SAAS,IAAM,SAAS;wBAAE,IAAI,KAAK,EAAE;wBAAE;oBAAO;eAJzC,KAAK,EAAE;;;;;;;;;;AAStB","debugId":null}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/fetch/audioFetch.js"],"sourcesContent":["'use server'\n\n// ==============================\n// /app/crud/fetch/audioFetch.js\n// Handles GET and PUT requests to WordPress REST API for audio posts\n// ==============================\nconst API_URL = process.env.NEXT_PUBLIC_API_WP;\n\n\n// Fetch all audio posts\nexport async function fetchAudios() {\n  const res = await fetch(`${API_URL}/wp/v2/audio?per_page=20`);\n  if (!res.ok) throw new Error('Failed to fetch posts');\n  return await res.json();\n}\n\n// Fetch a single audio post by ID\nexport async function fetchAudio(id) {\n  const res = await fetch(`${API_URL}/wp/v2/audio/${id}`);\n  if (!res.ok) throw new Error('Failed to fetch single post');\n  return await res.json();\n}\n\n// Update a audio post using JWT token\nexport async function updateAudio(id, data, token) {\n  const res = await fetch(`${API_URL}/wp/v2/audio/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(data)\n  });\n  if (!res.ok) throw new Error('Failed to update post');\n  return await res.json();\n}\n"],"names":[],"mappings":";;;;;;;IAUsB;IAOA;IAOA","debugId":null}},
    {"offset": {"line": 806, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/fetch/artworkFetch.js"],"sourcesContent":["'use server'\n\n// ==============================\n// /app/crud/fetch/artworkFetch.js\n// Handles GET and PUT requests to WordPress REST API for artwork posts\n// ==============================\nconst API_URL = process.env.NEXT_PUBLIC_API_WP;\n\n\n// Fetch all artwork posts\nexport async function fetchArtworks() {\n  const res = await fetch(`${API_URL}/wp/v2/2dart?per_page=20`);\n  if (!res.ok) throw new Error('Failed to fetch posts');\n  return await res.json();\n}\n\n// Fetch a single artwork post by ID\nexport async function fetchArtwork(id) {\n  const res = await fetch(`${API_URL}/wp/v2/2dart/${id}`);\n  if (!res.ok) throw new Error('Failed to fetch single post');\n  return await res.json();\n}\n\n// Update a artwork post using JWT token\nexport async function updateArtwork(id, data, token) {\n  const res = await fetch(`${API_URL}/wp/v2/2dart/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(data)\n  });\n  if (!res.ok) throw new Error('Failed to update post');\n  return await res.json();\n}\n"],"names":[],"mappings":";;;;;;;IAUsB;IAOA;IAOA","debugId":null}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/fetch/photographyFetch.js"],"sourcesContent":["'use server'\n\n// ==============================\n// /app/crud/fetch/photoFetch.js\n// Handles GET and PUT requests to WordPress REST API for photo posts\n// ==============================\nconst API_URL = process.env.NEXT_PUBLIC_API_WP;\n\n\n// Fetch all photo posts\nexport async function fetchPhotos() {\n  const res = await fetch(`${API_URL}/wp/v2/photos?per_page=20`);\n  if (!res.ok) throw new Error('Failed to fetch posts');\n  return await res.json();\n}\n\n// Fetch a single photo post by ID\nexport async function fetchPhoto(id) {\n  const res = await fetch(`${API_URL}/wp/v2/photos/${id}`);\n  if (!res.ok) throw new Error('Failed to fetch single post');\n  return await res.json();\n}\n\n// Update a photo post using JWT token\nexport async function updatePhoto(id, data, token) {\n  const res = await fetch(`${API_URL}/wp/v2/photos/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(data)\n  });\n  if (!res.ok) throw new Error('Failed to update post');\n  return await res.json();\n}\n"],"names":[],"mappings":";;;;;;;IAUsB;IAOA;IAOA","debugId":null}},
    {"offset": {"line": 838, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/fetch/eventFetch.js"],"sourcesContent":["'use server'\n\n// ==============================\n// /app/crud/fetch/eventFetch.js\n// Handles GET and PUT requests to WordPress REST API for custom 'event' posts\n// ==============================\n\nconst API_URL = \"https://mothership.wordifysites.com/wp-json\";\n\n// Fetch all event posts from custom endpoint\nexport async function fetchEvents() {\n  const res = await fetch(`${API_URL}/custom/v1/events`);\n  if (!res.ok) throw new Error('Failed to fetch events');\n  return await res.json();\n}\n\n// Fetch a single event post by ID from custom endpoint\nexport async function fetchEvent(id) {\n  const res = await fetch(`${API_URL}/custom/v1/events/${id}`);\n  if (!res.ok) throw new Error('Failed to fetch event');\n  return await res.json();\n}\n\n// Update event post (note: this only works if you expose and secure a custom PUT endpoint)\nexport async function updateEvent(id, data, token) {\n  const res = await fetch(`${API_URL}/custom/v1/events/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(data)\n  });\n  if (!res.ok) throw new Error('Failed to update event');\n  return await res.json();\n}\n"],"names":[],"mappings":";;;;;;;IAUsB;IAOA;IAOA","debugId":null}},
    {"offset": {"line": 854, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/fetch/models3dFetch.js"],"sourcesContent":["'use server'\n\n// ==============================\n// /app/crud/fetch/models3dFetch.js\n// Handles GET and PUT requests to WordPress REST API for models3d posts\n// ==============================\nconst API_URL = process.env.NEXT_PUBLIC_API_WP;\n\n\n// Fetch all models3d posts\nexport async function fetch3ds() {\n  const res = await fetch(`${API_URL}/wp/v2/3dart?per_page=20`);\n  if (!res.ok) throw new Error('Failed to fetch posts');\n  return await res.json();\n}\n\n// Fetch a single models3d post by ID\nexport async function fetch3d(id) {\n  const res = await fetch(`${API_URL}/wp/v2/3dart/${id}`);\n  if (!res.ok) throw new Error('Failed to fetch single post');\n  return await res.json();\n}\n\n// Update a models3d post using JWT token\nexport async function update3d(id, data, token) {\n  const res = await fetch(`${API_URL}/wp/v2/3dart/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(data)\n  });\n  if (!res.ok) throw new Error('Failed to update post');\n  return await res.json();\n}\n"],"names":[],"mappings":";;;;;;;IAUsB;IAOA;IAOA","debugId":null}},
    {"offset": {"line": 870, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/PostEditor.js"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport { useSession } from 'next-auth/react';\n\nimport { fetchPost, updatePost } from './fetch/blogFetch';\nimport { fetchVideo, updateVideo } from './fetch/videoFetch';\nimport { fetchAudio, updateAudio } from './fetch/audioFetch';\nimport { fetchArtwork, updateArtwork } from './fetch/artworkFetch';\nimport { fetchPhoto, updatePhoto } from './fetch/photographyFetch';\nimport { fetchEvent, updateEvent } from './fetch/eventFetch';\nimport { fetch3d, update3d } from './fetch/models3dFetch';\n\nexport default function PostEditor({ postId, source = 'wp', slug }) {\n  const { data: session } = useSession();\n  const [initialValues, setInitialValues] = useState(null);\n\n  const fetchMap = {\n    post: fetchPost,\n    film: fetchVideo,\n    audio: fetchAudio,\n    artwork: fetchArtwork,\n    photos: fetchPhoto,\n    event: fetchEvent,\n    '3dart': fetch3d\n  };\n\n  const updateMap = {\n    post: updatePost,\n    film: updateVideo,\n    audio: updateAudio,\n    artwork: updateArtwork,\n    photos: updatePhoto,\n    event: updateEvent,\n    '3dart': update3d\n  };\n\n  const fetchFunc = fetchMap[slug] || fetchPost;\n  const updateFunc = updateMap[slug] || updatePost;\n\n  useEffect(() => {\n    if (!postId || !fetchFunc) return;\n\n    fetchFunc(postId, source)\n      .then((data) => {\n        if (!data) return;\n\n        setInitialValues({\n          title: data.title?.rendered || '',\n          content: data.content?.rendered || ''\n        });\n      })\n      .catch((err) => {\n        console.error('Failed to load post data:', err);\n      });\n  }, [postId, source, fetchFunc]);\n\n  if (!initialValues) return <p>Loading post‚Ä¶</p>;\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      enableReinitialize\n      onSubmit={async (values) => {\n        try {\n          await updateFunc(\n            postId,\n            {\n              title: { rendered: values.title },\n              content: { rendered: values.content }\n            },\n            session?.user?.token,\n            source\n          );\n          alert('Post updated!');\n        } catch (err) {\n          console.error(err);\n          alert('Failed to update post.');\n        }\n      }}\n    >\n      <Form className=\"flex flex-col gap-4\">\n        <label className=\"font-medium\">Title</label>\n        <Field name=\"title\" className=\"border p-2 w-full\" />\n\n        <label className=\"font-medium\">Content</label>\n        <Field name=\"content\" as=\"textarea\" rows=\"10\" className=\"border p-2 w-full\" />\n\n        <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded\">\n          Save Post\n        </button>\n      </Form>\n    </Formik>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;;;AAae,SAAS,WAAW,EAAE,MAAM,EAAE,SAAS,IAAI,EAAE,IAAI,EAAE;IAChE,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IACnC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,MAAM,WAAW;QACf,MAAM,iIAAA,CAAA,YAAS;QACf,MAAM,kIAAA,CAAA,aAAU;QAChB,OAAO,kIAAA,CAAA,aAAU;QACjB,SAAS,oIAAA,CAAA,eAAY;QACrB,QAAQ,wIAAA,CAAA,aAAU;QAClB,OAAO,kIAAA,CAAA,aAAU;QACjB,SAAS,qIAAA,CAAA,UAAO;IAClB;IAEA,MAAM,YAAY;QAChB,MAAM,iIAAA,CAAA,aAAU;QAChB,MAAM,kIAAA,CAAA,cAAW;QACjB,OAAO,kIAAA,CAAA,cAAW;QAClB,SAAS,oIAAA,CAAA,gBAAa;QACtB,QAAQ,wIAAA,CAAA,cAAW;QACnB,OAAO,kIAAA,CAAA,cAAW;QAClB,SAAS,qIAAA,CAAA,WAAQ;IACnB;IAEA,MAAM,YAAY,QAAQ,CAAC,KAAK,IAAI,iIAAA,CAAA,YAAS;IAC7C,MAAM,aAAa,SAAS,CAAC,KAAK,IAAI,iIAAA,CAAA,aAAU;IAEhD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,UAAU,CAAC,WAAW;QAE3B,UAAU,QAAQ,QACf,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,MAAM;YAEX,iBAAiB;gBACf,OAAO,KAAK,KAAK,EAAE,YAAY;gBAC/B,SAAS,KAAK,OAAO,EAAE,YAAY;YACrC;QACF,GACC,KAAK,CAAC,CAAC;YACN,QAAQ,KAAK,CAAC,6BAA6B;QAC7C;IACJ,GAAG;QAAC;QAAQ;QAAQ;KAAU;IAE9B,IAAI,CAAC,eAAe,qBAAO,8OAAC;kBAAE;;;;;;IAE9B,qBACE,8OAAC,+IAAA,CAAA,SAAM;QACL,eAAe;QACf,kBAAkB;QAClB,UAAU,OAAO;YACf,IAAI;gBACF,MAAM,WACJ,QACA;oBACE,OAAO;wBAAE,UAAU,OAAO,KAAK;oBAAC;oBAChC,SAAS;wBAAE,UAAU,OAAO,OAAO;oBAAC;gBACtC,GACA,SAAS,MAAM,OACf;gBAEF,MAAM;YACR,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC;gBACd,MAAM;YACR;QACF;kBAEA,cAAA,8OAAC,+IAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,8OAAC;oBAAM,WAAU;8BAAc;;;;;;8BAC/B,8OAAC,+IAAA,CAAA,QAAK;oBAAC,MAAK;oBAAQ,WAAU;;;;;;8BAE9B,8OAAC;oBAAM,WAAU;8BAAc;;;;;;8BAC/B,8OAAC,+IAAA,CAAA,QAAK;oBAAC,MAAK;oBAAU,IAAG;oBAAW,MAAK;oBAAK,WAAU;;;;;;8BAExD,8OAAC;oBAAO,MAAK;oBAAS,WAAU;8BAA2C;;;;;;;;;;;;;;;;;AAMnF","debugId":null}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/crud/page.js"],"sourcesContent":["// app/crud/page.js\n'use client';\n\nimport { useState } from 'react';\nimport useAuthGuard from '../hooks/useAuthGuard'; // ü™ù Auth wrapper\n\nimport Blog, { meta as blogMeta } from './blog';\nimport Artwork, { meta as artworkMeta } from './artwork';\nimport Photography, { meta as photographyMeta } from './photography';\nimport Audio, { meta as audioMeta } from './audio';\nimport Video, { meta as videoMeta } from './Videos';\nimport Models3D, { meta as models3dMeta } from './Models3D';\nimport Event, { meta as eventMeta } from './Events';\n\nimport PostList from './PostList';\nimport PostEditor from './PostEditor';\n\n// üß© Tab definitions\nconst tabs = [\n  { name: 'Blog', key: 'blog', component: Blog, meta: blogMeta },\n  { name: 'Artwork', key: 'artwork', component: Artwork, meta: artworkMeta },\n  { name: 'Photography', key: 'photography', component: photographyMeta },\n  { name: 'Audio', key: 'audio', component: audioMeta },\n  { name: 'Video', key: 'video', component: Video, meta: videoMeta },\n  { name: '3D Models', key: 'models3d', component: Models3D, meta: models3dMeta },\n  { name: 'Event', key: 'event', component: eventMeta, meta: eventMeta }\n];\n\nexport default function CrudPage() {\n  const { user, loading } = useAuthGuard(); // üîê Auth protection\n  const [activeTab, setActiveTab] = useState('blog');\n  const [selectedItem, setSelectedItem] = useState(null); // { id, source }\n\n  if (loading) return null; // ‚è≥ Wait for auth before showing anything\n\n  const { component: ActiveComponent, meta } = tabs.find(t => t.key === activeTab);\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-2xl font-bold mb-4\">CRUD Manager</h1>\n\n      {/* üîÑ Tabs */}\n      <div className=\"flex flex-wrap gap-2 mb-4\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.key}\n            onClick={() => {\n              setActiveTab(tab.key);\n              setSelectedItem(null); // üßº Clear selection on tab switch\n            }}\n            className={`px-4 py-2 border rounded ${\n              activeTab === tab.key ? 'bg-black text-white' : 'bg-white text-black'\n            }`}\n          >\n            {tab.name}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"flex gap-4\">\n        {/* üìÑ Sidebar: Post List */}\n        <div className=\"w-64 max-h-[80vh] overflow-y-auto border rounded bg-white shadow\">\n          <PostList\n            meta={meta}\n            onSelect={setSelectedItem}\n            selectedId={selectedItem?.id}\n          />\n        </div>\n\n        {/* ‚úçÔ∏è Right: Editor or Tab Component */}\n        <div className=\"flex-1 p-4 border rounded bg-white shadow max-h-[80vh] overflow-y-auto\">\n          {selectedItem ? (\n            <PostEditor\n              postId={selectedItem.id}\n              source={selectedItem.source}\n              slug={meta.slug}\n            />\n          ) : (\n            <ActiveComponent />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;AAGnB;AACA,0NAAkD,kBAAkB;AAEpE;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAdA;;;;;;;;;;;;;AAgBA,qBAAqB;AACrB,MAAM,OAAO;IACX;QAAE,MAAM;QAAQ,KAAK;QAAQ,WAAW,mHAAA,CAAA,UAAI;QAAE,MAAM,mHAAA,CAAA,OAAQ;IAAC;IAC7D;QAAE,MAAM;QAAW,KAAK;QAAW,WAAW,sHAAA,CAAA,UAAO;QAAE,MAAM,sHAAA,CAAA,OAAW;IAAC;IACzE;QAAE,MAAM;QAAe,KAAK;QAAe,WAAW,0HAAA,CAAA,OAAe;IAAC;IACtE;QAAE,MAAM;QAAS,KAAK;QAAS,WAAW,oHAAA,CAAA,OAAS;IAAC;IACpD;QAAE,MAAM;QAAS,KAAK;QAAS,WAAW,qHAAA,CAAA,UAAK;QAAE,MAAM,qHAAA,CAAA,OAAS;IAAC;IACjE;QAAE,MAAM;QAAa,KAAK;QAAY,WAAW,uHAAA,CAAA,UAAQ;QAAE,MAAM,uHAAA,CAAA,OAAY;IAAC;IAC9E;QAAE,MAAM;QAAS,KAAK;QAAS,WAAW,qHAAA,CAAA,OAAS;QAAE,MAAM,qHAAA,CAAA,OAAS;IAAC;CACtE;AAEc,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,UAAY,AAAD,KAAK,qBAAqB;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,iBAAiB;IAEzE,IAAI,SAAS,OAAO,MAAM,0CAA0C;IAEpE,MAAM,EAAE,WAAW,eAAe,EAAE,IAAI,EAAE,GAAG,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;IAEtE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAGxC,8OAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;wBAEC,SAAS;4BACP,aAAa,IAAI,GAAG;4BACpB,gBAAgB,OAAO,mCAAmC;wBAC5D;wBACA,WAAW,CAAC,yBAAyB,EACnC,cAAc,IAAI,GAAG,GAAG,wBAAwB,uBAChD;kCAED,IAAI,IAAI;uBATJ,IAAI,GAAG;;;;;;;;;;0BAclB,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,uHAAA,CAAA,UAAQ;4BACP,MAAM;4BACN,UAAU;4BACV,YAAY,cAAc;;;;;;;;;;;kCAK9B,8OAAC;wBAAI,WAAU;kCACZ,6BACC,8OAAC,yHAAA,CAAA,UAAU;4BACT,QAAQ,aAAa,EAAE;4BACvB,QAAQ,aAAa,MAAM;4BAC3B,MAAM,KAAK,IAAI;;;;;iDAGjB,8OAAC;;;;;;;;;;;;;;;;;;;;;;AAMb","debugId":null}}]
}