{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/schedule/components/AppointmentForm.js"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { useSession } from 'next-auth/react'\nimport { Formik, Form, Field } from 'formik'\nimport axios from 'axios'\n\n\nexport default function AppointmentForm({ selectedDate, slotRange, slotSize, startHour, onComplete }) {\n  const { data: session } = useSession()\n  const [statusMessage, setStatusMessage] = useState({ type: null, text: '' })\n\n  const initialValues = {\n    notes: '',\n    appointment_type: '',\n    image_gallery: [],\n  }\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    if (!session?.user?.token) {\n      setStatusMessage({ type: 'error', text: 'You must be logged in to submit.' })\n      return\n    }\n\n    const payload = {\n      appointment_date: selectedDate.toISOString().split('T')[0],\n      start_time: slotRange.startLabel,\n      end_time: slotRange.endLabel,\n      user_id: session.user.id,\n      user_name: session.user.username,\n      slot_type: slotSize + 'hr',\n      created_by: session.user.id,\n      status: 'pending', // always pending\n      ...values,\n    }\n\n    try {\n      const res = await axios.post(\n        'https://mothership.wordifysites.com/wp-json/custom/v1/appointments',\n        payload,\n        {\n          headers: {\n            Authorization: `Bearer ${session.user.token}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      )\n      setStatusMessage({ type: 'success', text: 'Appointment booked successfully!' })\n      onComplete?.()\n    } catch (err) {\n      console.error(err)\n      setStatusMessage({ type: 'error', text: 'Failed to book appointment. Try again.' })\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"mt-6 border-t pt-4\">\n      <h3 className=\"text-lg font-semibold mb-3\">Confirm Appointment</h3>\n\n      {/* Appointment Summary */}\n      <div className=\"text-sm bg-gray-50 p-3 rounded border mb-4\">\n        <p><strong>Date:</strong> {selectedDate.toDateString()}</p>\n        <p><strong>Time:</strong> {slotRange.startLabel} → {slotRange.endLabel}</p>\n        <p><strong>Duration:</strong> {slotSize} {slotSize > 1 ? 'Hours' : 'Hour'}</p>\n        <p className=\"text-blue-600 mt-2\">📌 All appointments are pending and will be reviewed.</p>\n      </div>\n\n      \n\n      <Formik initialValues={initialValues} onSubmit={handleSubmit}>\n        {({ isSubmitting }) => (\n          <Form className=\"space-y-4\">\n            {/* Appointment Type */}\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Appointment Type</label>\n              <Field\n                type=\"text\"\n                name=\"appointment_type\"\n                className=\"w-full border rounded p-2 text-sm\"\n              />\n            </div>\n\n            {/* Notes */}\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Notes</label>\n              <Field\n                as=\"textarea\"\n                name=\"notes\"\n                rows=\"3\"\n                className=\"w-full border rounded p-2 text-sm\"\n              />\n            </div>\n\n            {/* Image Gallery Placeholder */}\n            <div className=\"pt-3\">\n              <label className=\"block text-sm font-medium mb-1\">Image Gallery</label>\n              <div className=\"border-dashed border-2 border-gray-300 rounded p-4 text-center text-sm text-gray-500\">\n                Media uploader placeholder – hook in global media modal here later.\n              </div>\n            </div>\n\n            {/* Submit */}\n            {session?.user ? (\n              <div className=\"flex justify-between items-center\">\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n                >\n                  {isSubmitting ? 'Booking...' : 'Book Appointment'}\n                </button>\n                {statusMessage.text && (\n                  <span className={`text-sm ${statusMessage.type === 'error' ? 'text-red-600' : 'text-green-600'}`}>\n                    {statusMessage.text}\n                  </span>\n                )}\n              </div>\n            ) : (\n              <p className=\"text-sm text-red-600 font-medium\">\n                🔒 Please log in or register above to submit your appointment.\n              </p>\n            )}\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/utils/getBaseApiUrl.js"],"sourcesContent":["// utils/getBaseUrl.js\n\nexport async function getBaseUrl() {\n  if (typeof window === 'undefined') return '' // SSR safety\n\n  const hostname = window.location.hostname || ''\n\n  if (hostname === 'localhost') {\n    return 'http://localhost:3000'\n  }\n\n  if (hostname.startsWith('192.168.')) {\n    return `http://${hostname}:3000`\n  }\n\n  return 'https://mothership.wordifysites.com'\n}\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;AAEf,eAAe;IACpB,wCAAmC,OAAO,GAAG,aAAa;;;IAE1D,MAAM;AAWR","debugId":null}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/utils/getWpApiBase.js"],"sourcesContent":["import { getBaseUrl } from './getBaseApiUrl'\n\nexport async function getWpApiBase() {\n  return process.env.NEXT_PUBLIC_API_WP\n}\n\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe;IACpB;AACF","debugId":null}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/utils/api.js"],"sourcesContent":["import axios from \"axios\";\nimport { getWpApiBase  } from './getWpApiBase'\n\nconst WORDPRESS_API_URL = \"https://mothership.wordifysites.com/wp-json/wp/v2\";\nconst WOOCOMMERCE_API_URL = process.env.NEXT_PUBLIC_WOOCOMMERCE_STORE_URL + \"/wp-json/wc/v3\";\nconst CONSUMER_KEY = process.env.NEXT_PUBLIC_WOOCOMMERCE_CONSUMER_KEY;\nconst CONSUMER_SECRET = process.env.NEXT_PUBLIC_WOOCOMMERCE_CONSUMER_SECRET;\n\n\n\n\n/**\n * Fetch the current logged-in user's basic details for the Dashboard.\n * @param {string} token - The JWT token of the logged-in user.\n */\nexport const getUserData = async (token) => {\n  try {\n    const response = await axios.get(\"https://mothership.wordifysites.com/wp-json/wp/v2/users/me?context=edit\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    console.log(\"✅ Dashboard User Data Retrieved:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"❌ Error fetching Dashboard user data:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\nexport const getAdminTokenForMediaUpload = async () => {\n  try {\n    const response = await axios.post(`${process.env.NEXT_PUBLIC_API_WP}/jwt-auth/v1/token`, {\n      username: process.env.NEXT_PUBLIC_WP_ADMIN_USERNAME,\n      password: process.env.NEXT_PUBLIC_WP_ADMIN_PASSWORD,\n    });\n\n    console.log(\"✅ Admin JWT Token Retrieved:\", response.data.token);\n    return response.data.token;\n  } catch (error) {\n    console.error(\"❌ Failed to retrieve admin token:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n\n/** ─────────────────────────────────────────────────\n * ✅ PROFILE PAGE API (Fetch Full User Profile)\n * This function is used **only for the profile page**\n * It retrieves user details including nickname, phone, website\n * ─────────────────────────────────────────────────\n */\nexport const getProfileData = async (token) => {\n  try {\n    const response = await axios.get(`${WORDPRESS_API_URL}/users/me?context=edit`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    const user = response?.data;\n    console.log(\"✅ Retrieved Full Profile Data:\", user);\n\n    // ✅ Store key profile info in localStorage for global UI access\n    if (user) {\n      localStorage.setItem(\"userName\", user.nickname || user.username || \"Guest\");\n      localStorage.setItem(\"userEmail\", user.email || \"\");\n      localStorage.setItem(\"firstName\", user.first_name || \"\");\n      localStorage.setItem(\"lastName\", user.last_name || \"\");\n    }\n\n    return user;\n  } catch (error) {\n    console.error(\"❌ Error fetching profile data:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n/** ─────────────────────────────────────────────────\n * ✅ PROFILE PICTURE UPLOAD (Upload to Media Library)\n * This uploads an image to the Media Library, returns the URL\n * ─────────────────────────────────────────────────\n */\n\nexport const uploadProfilePicture = async (imageFile) => {\n  try {\n    const adminToken = await getAdminTokenForMediaUpload();\n\n    if (!adminToken) {\n      console.error(\"❌ Admin token not found. Cannot upload image.\");\n      return null;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", imageFile);\n    formData.append(\"title\", imageFile.name);\n\n    const response = await axios.post(\n      `${process.env.NEXT_PUBLIC_API_WP}/wp/v2/media`,\n      formData,\n      {\n        headers: {\n          Authorization: `Bearer ${adminToken}`,\n        },\n      }\n    );\n\n    console.log(\"✅ Profile Picture Uploaded:\", response.data.source_url);\n    return response.data.source_url;\n  } catch (error) {\n    console.error(\"❌ Profile picture upload failed:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n/** ─────────────────────────────────────────────────\n * ✅ PROFILE UPDATE API (Edit User Details)\n * This function updates core user fields and profile image\n * ─────────────────────────────────────────────────\n */\n\nexport const updateProfile = async (token, userData) => {\n  try {\n    const response = await axios.post(\n      `${process.env.NEXT_PUBLIC_API_WP}/wp/v2/users/me`,\n      {\n        first_name: userData.first_name,\n        last_name: userData.last_name,\n        nickname: userData.nickname,\n        email: userData.email,\n        billing_phone: userData.billing_phone,\n        user_website: userData.user_website,\n        custom_profile_image: userData.custom_profile_image || null, // ✅ update image URL\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n\n    console.log(\"✅ Profile Updated Successfully:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"❌ Error updating profile:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n\n\n\n\n\n/**\n * Register a new user in WordPress.\n */\n\nexport const registerUser = async (userData) => {\n  try {\n    console.log(\"📌 Sending userData to registerUser:\", userData);\n\n    // 1️⃣ Get the Admin JWT Token Securely\n    const adminToken = await getAdminToken();\n    if (!adminToken) {\n      console.error(\"❌ Cannot create user: Failed to authenticate admin.\");\n      return null;\n    }\n\n    // 2️⃣ Send Registration Request to Correct WordPress Endpoint\n    const response = await axios.post(\n      `${process.env.NEXT_PUBLIC_API_WP}/wp/v2/users`, // Correct URL\n      {\n        username: userData.username,\n        email: userData.email,\n        password: userData.password,\n        first_name: userData.first_name,\n        last_name: userData.last_name,\n        roles: [\"subscriber\"], // Assign default role\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${adminToken}`, // Authenticate as admin\n        },\n      }\n    );\n\n    console.log(\"✅ User registered successfully:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"❌ Registration error:\", error.response?.data || error.message);\n    return null;\n  }\n};\n\n\n\n\n\n\nexport const loginUser = async (username, password) => {\n  try {\n    const response = await axios.post(\n      `${getWpApiBase()}/jwt-auth/v1/token`,\n      { username, password }\n    )\n\n    console.log(\"✅ Full Login Response:\", response.data)\n\n    if (!response.data.token) {\n      console.error(\"❌ No token received from WordPress!\")\n      return null\n    }\n\n    localStorage.setItem(\"userToken\", response.data.token)\n    return response.data.token\n  } catch (error) {\n    console.error(\"❌ Login error:\", error.response?.data || error.message)\n    return null\n  }\n}\n\n\n\n\n\n\n\n\nexport const getAdminToken = async () => {\n  try {\n    console.log(\"📌 Admin Username from ENV:\", process.env.NEXT_PUBLIC_WP_ADMIN_USERNAME);\n    console.log(\"📌 Admin Password from ENV:\", process.env.NEXT_PUBLIC_WP_ADMIN_PASSWORD ? \"Loaded\" : \"Not Found\");\n    console.log(\"📌 WordPress API URL:\", process.env.NEXT_PUBLIC_API_WP);\n\n    const response = await axios.post(`${process.env.NEXT_PUBLIC_API_WP}/jwt-auth/v1/token`, {\n      username: process.env.NEXT_PUBLIC_WP_ADMIN_USERNAME,\n      password: process.env.NEXT_PUBLIC_WP_ADMIN_PASSWORD,\n    });\n\n    console.log(\"✅ Admin JWT Token Retrieved:\", response.data.token);\n    return response.data.token;\n  } catch (error) {\n    console.error(\"❌ Failed to retrieve admin token:\", error.response?.data || error.message);\n    return null;\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/components/ScheduleLoginForm.js"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useFormik } from 'formik'\nimport * as Yup from 'yup'\nimport { loginUser } from '../utils/api'\n\nconst ScheduleLoginForm = () => {\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    const token = localStorage.getItem('userToken')\n    if (token) {\n      console.log('✅ User is already logged in, redirecting to dashboard...')\n      router.push('/dashboard')\n    }\n  }, [])\n\n  const formik = useFormik({\n    initialValues: { username: '', password: '' },\n    validationSchema: Yup.object({\n      username: Yup.string().required('Username is required'),\n      password: Yup.string().required('Password is required'),\n    }),\n    onSubmit: async (values) => {\n      setLoading(true)\n      setError(null)\n\n      const token = await loginUser(values.username, values.password)\n      if (token) {\n        // 🔔 Fire global notification\n        window.dispatchEvent(\n          new CustomEvent('notify', {\n            detail: {\n              message: '🔐 Logged in successfully!',\n              type: 'success',\n            },\n          })\n        )\n\n        router.push('/dashboard')\n      } else {\n        setError('Invalid login credentials. Please try again.')\n      }\n\n      setLoading(false)\n    },\n  })\n\n  return (\n    <div className=\"max-w-md mx-auto mt-10 p-6 border rounded-lg shadow-md bg-white\">\n      <h2 className=\"text-2xl font-semibold text-center mb-4\">Login</h2>\n\n      {error && <p className=\"text-red-500 text-center\">{error}</p>}\n      {loading && <p className=\"text-blue-500 text-center\">🔄 Signing In...</p>}\n\n      <form onSubmit={formik.handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block font-medium\">Username</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            {...formik.getFieldProps('username')}\n            className=\"w-full p-2 border rounded\"\n          />\n          {formik.touched.username && formik.errors.username && (\n            <p className=\"text-red-500 text-sm\">{formik.errors.username}</p>\n          )}\n        </div>\n\n        <div>\n          <label className=\"block font-medium\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            {...formik.getFieldProps('password')}\n            className=\"w-full p-2 border rounded\"\n          />\n          {formik.touched.password && formik.errors.password && (\n            <p className=\"text-red-500 text-sm\">{formik.errors.password}</p>\n          )}\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\"\n        >\n          {loading ? 'Signing In...' : 'Login'}\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default ScheduleLoginForm\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,oBAAoB;IACxB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,CAAC;QACd;IACF,GAAG,EAAE;IAEL,MAAM,SAAS,CAAA,GAAA,+IAAA,CAAA,YAAS,AAAD,EAAE;QACvB,eAAe;YAAE,UAAU;YAAI,UAAU;QAAG;QAC5C,kBAAkB,CAAA,GAAA,mIAAA,CAAA,SAAU,AAAD,EAAE;YAC3B,UAAU,CAAA,GAAA,mIAAA,CAAA,SAAU,AAAD,IAAI,QAAQ,CAAC;YAChC,UAAU,CAAA,GAAA,mIAAA,CAAA,SAAU,AAAD,IAAI,QAAQ,CAAC;QAClC;QACA,UAAU,OAAO;YACf,WAAW;YACX,SAAS;YAET,MAAM,QAAQ,MAAM,CAAA,GAAA,mHAAA,CAAA,YAAS,AAAD,EAAE,OAAO,QAAQ,EAAE,OAAO,QAAQ;YAC9D,IAAI,OAAO;gBACT,8BAA8B;gBAC9B,OAAO,aAAa,CAClB,IAAI,YAAY,UAAU;oBACxB,QAAQ;wBACN,SAAS;wBACT,MAAM;oBACR;gBACF;gBAGF,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,SAAS;YACX;YAEA,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;YAEvD,uBAAS,8OAAC;gBAAE,WAAU;0BAA4B;;;;;;YAClD,yBAAW,8OAAC;gBAAE,WAAU;0BAA4B;;;;;;0BAErD,8OAAC;gBAAK,UAAU,OAAO,YAAY;gBAAE,WAAU;;kCAC7C,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAoB;;;;;;0CACrC,8OAAC;gCACC,MAAK;gCACL,MAAK;gCACJ,GAAG,OAAO,aAAa,CAAC,WAAW;gCACpC,WAAU;;;;;;4BAEX,OAAO,OAAO,CAAC,QAAQ,IAAI,OAAO,MAAM,CAAC,QAAQ,kBAChD,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,MAAM,CAAC,QAAQ;;;;;;;;;;;;kCAI/D,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAoB;;;;;;0CACrC,8OAAC;gCACC,MAAK;gCACL,MAAK;gCACJ,GAAG,OAAO,aAAa,CAAC,WAAW;gCACpC,WAAU;;;;;;4BAEX,OAAO,OAAO,CAAC,QAAQ,IAAI,OAAO,MAAM,CAAC,QAAQ,kBAChD,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,MAAM,CAAC,QAAQ;;;;;;;;;;;;kCAI/D,8OAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,UAAU,kBAAkB;;;;;;;;;;;;;;;;;;AAKvC;uCAEe","debugId":null}},
    {"offset": {"line": 694, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/components/RegisterForm.js"],"sourcesContent":["'use client'\n\nimport { useFormik } from 'formik'\nimport * as Yup from 'yup'\nimport { registerUser } from '../utils/api'\nimport { useRouter } from 'next/navigation'\nimport { useState } from 'react'\n\nconst RegisterForm = () => {\n  const router = useRouter()\n  const [error, setError] = useState(null)\n  const [success, setSuccess] = useState(null)\n\n  const formik = useFormik({\n    initialValues: {\n      username: '',\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: '',\n    },\n    validationSchema: Yup.object({\n      username: Yup.string().required('Username is required'),\n      first_name: Yup.string().required('First Name is required'),\n      last_name: Yup.string().required('Last Name is required'),\n      email: Yup.string().email('Invalid email').required('Email is required'),\n      password: Yup.string().min(6, 'Password must be at least 6 characters').required('Password is required'),\n    }),\n    onSubmit: async (values, { setSubmitting }) => {\n      setError(null)\n      setSuccess(null)\n\n      const result = await registerUser(values)\n      if (result) {\n        setSuccess('✅ User registered successfully! Redirecting...')\n\n        // 🔔 Dispatch global notification\n        window.dispatchEvent(\n          new CustomEvent('notify', {\n            detail: {\n              message: '🎉 Registration successful!',\n              type: 'success',\n            },\n          })\n        )\n\n        // ✅ Auto-close modal after delay\n        setTimeout(() => {\n          router.push('/login')\n        }, 1500)\n      } else {\n        setError('❌ Registration failed. Check console for details.')\n      }\n\n      setSubmitting(false)\n    },\n  })\n\n  return (\n    <div className=\"w-full max-w-md mx-auto\">\n      <h2 className=\"text-2xl font-semibold text-center mb-4\">Register a New User</h2>\n      {error && <p className=\"text-red-500 text-center\">{error}</p>}\n      {success && <p className=\"text-green-500 text-center\">{success}</p>}\n\n      <form onSubmit={formik.handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block font-medium\">Username</label>\n          <input type=\"text\" name=\"username\" {...formik.getFieldProps('username')} className=\"w-full p-2 border rounded\" />\n        </div>\n\n        <div>\n          <label className=\"block font-medium\">First Name</label>\n          <input type=\"text\" name=\"first_name\" {...formik.getFieldProps('first_name')} className=\"w-full p-2 border rounded\" />\n        </div>\n\n        <div>\n          <label className=\"block font-medium\">Last Name</label>\n          <input type=\"text\" name=\"last_name\" {...formik.getFieldProps('last_name')} className=\"w-full p-2 border rounded\" />\n        </div>\n\n        <div>\n          <label className=\"block font-medium\">Email</label>\n          <input type=\"email\" name=\"email\" {...formik.getFieldProps('email')} className=\"w-full p-2 border rounded\" />\n        </div>\n\n        <div>\n          <label className=\"block font-medium\">Password</label>\n          <input type=\"password\" name=\"password\" {...formik.getFieldProps('password')} className=\"w-full p-2 border rounded\" />\n        </div>\n\n        <button type=\"submit\" disabled={formik.isSubmitting} className=\"w-full bg-green-500 text-white p-2 rounded hover:bg-green-600\">\n          {formik.isSubmitting ? 'Registering...' : 'Register'}\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default RegisterForm\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 943, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/schedule/components/UserSchedule.js"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { useSession } from 'next-auth/react'\n\nexport default function UserSchedule() {\n  const { data: session } = useSession()\n  const [showLoginModal, setShowLoginModal] = useState(false)\n  const [showRegisterModal, setShowRegisterModal] = useState(false)\n\n  if (session?.user) {\n    return (\n      <div className=\"border rounded bg-gray-50 p-4 mb-4\">\n        <p className=\"text-sm text-gray-700\">👤 <strong>{session.user.username}</strong></p>\n        <p className=\"text-xs text-gray-500\">{session.user.email}</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"border rounded bg-yellow-50 p-4 mb-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n      <p className=\"text-sm text-gray-700\">You must be logged in to schedule an appointment.</p>\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => setShowLoginModal(true)}\n          className=\"px-4 py-1 text-sm rounded bg-blue-600 text-white hover:bg-blue-700\"\n        >\n          Log In\n        </button>\n        <button\n          onClick={() => setShowRegisterModal(true)}\n          className=\"px-4 py-1 text-sm rounded bg-green-600 text-white hover:bg-green-700\"\n        >\n          Register\n        </button>\n      </div>\n\n      {/* Login Modal */}\n      {showLoginModal && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center\">\n          <div className=\"bg-white p-6 rounded-xl max-w-md w-full relative\">\n            <button\n              className=\"absolute top-3 right-3 text-gray-500 hover:text-red-500\"\n              onClick={() => setShowLoginModal(false)}\n            >\n              ✕\n            </button>\n            <h2 className=\"text-xl font-semibold mb-4\">Log In</h2>\n            <div className=\"max-h-[80vh] overflow-y-auto\">\n              {/* Lazy-load to avoid hydration issues */}\n              {React.createElement(require('@/app/components/ScheduleLoginForm').default)}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Register Modal */}\n      {showRegisterModal && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center\">\n          <div className=\"bg-white p-6 rounded-xl max-w-lg w-full relative\">\n            <button\n              className=\"absolute top-3 right-3 text-gray-500 hover:text-red-500\"\n              onClick={() => setShowRegisterModal(false)}\n            >\n              ✕\n            </button>\n            <h2 className=\"text-xl font-semibold mb-4\">Register</h2>\n            <div className=\"max-h-[80vh] overflow-y-auto\">\n              {React.createElement(require('@/app/components/RegisterForm').default)}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IACnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,IAAI,SAAS,MAAM;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;;wBAAwB;sCAAG,8OAAC;sCAAQ,QAAQ,IAAI,CAAC,QAAQ;;;;;;;;;;;;8BACtE,8OAAC;oBAAE,WAAU;8BAAyB,QAAQ,IAAI,CAAC,KAAK;;;;;;;;;;;;IAG9D;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;0BACrC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS,IAAM,kBAAkB;wBACjC,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBACC,SAAS,IAAM,qBAAqB;wBACpC,WAAU;kCACX;;;;;;;;;;;;YAMF,gCACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,kBAAkB;sCAClC;;;;;;sCAGD,8OAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAC3C,8OAAC;4BAAI,WAAU;sCAEZ,cAAA,qMAAA,CAAA,UAAK,CAAC,aAAa,CAAC,gGAA8C,OAAO;;;;;;;;;;;;;;;;;YAOjF,mCACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,qBAAqB;sCACrC;;;;;;sCAGD,8OAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAC3C,8OAAC;4BAAI,WAAU;sCACZ,cAAA,qMAAA,CAAA,UAAK,CAAC,aAAa,CAAC,2FAAyC,OAAO;;;;;;;;;;;;;;;;;;;;;;;AAOnF","debugId":null}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/schedule/components/Modal.js"],"sourcesContent":["'use client'\n\nimport React, { useState, useMemo } from 'react'\nimport { XCircle } from 'lucide-react'\nimport { format } from 'date-fns'\nimport AppointmentForm from './AppointmentForm'\nimport UserSchedule from './UserSchedule'\n\nconst slotOptions = [\n  { label: '30 Minutes', value: 0.5 },\n  { label: '1 Hour', value: 1 },\n  { label: '2 Hours', value: 2 },\n  { label: '3 Hours', value: 3 },\n  { label: '8 Hours', value: 8 },\n]\n\nconst allHalfHourSlots = Array.from({ length: 48 }, (_, i) => i * 0.5)\n\nconst formatHour = (h) => {\n  const hour = Math.floor(h)\n  const mins = h % 1 === 0.5 ? '30' : '00'\n  const suffix = hour < 12 || hour === 24 ? 'AM' : 'PM'\n  const display = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour\n  return `${display}:${mins} ${suffix}`\n}\n\nexport default function Modal({ onClose, selectedDate }) {\n  const [slotSize, setSlotSize] = useState(1)\n  const [startHour, setStartHour] = useState(null)\n\n  const slotRange = useMemo(() => {\n    if (startHour === null) return null\n\n    const start = startHour\n    const end = start + slotSize\n\n    const formatTime = (hourFloat) => {\n      const hour = Math.floor(hourFloat)\n      const mins = (hourFloat % 1) === 0.5 ? '30' : '00'\n      const period = hour < 12 || hour === 24 ? 'AM' : 'PM'\n      const hour12 = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour\n      return `${hour12}:${mins} ${period}`\n    }\n\n    return {\n      startLabel: formatTime(start),\n      endLabel: formatTime(end),\n    }\n  }, [startHour, slotSize])\n\n  return (\n    <div className=\"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50\">\n      <div className=\"bg-white px-6 pb-6 pt-3 rounded-xl w-full m-1 top-0 fixed shadow-xl h-full overflow-y-auto\">\n        {/* Close Button */}\n        <button\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-red-500\"\n          onClick={onClose}\n        >\n          <XCircle className=\"w-6 h-6\" />\n        </button>\n\n        <div className=\"flex flex-col lg:flex-row gap-6\">\n          {/* Left Column: Time Selection */}\n          <div className=\"w-full lg:w-1/2\">\n            <h2 className=\"text-xl font-semibold mb-6\">\n              Book for {format(selectedDate, 'EEEE, MMMM do, yyyy')}\n            </h2>\n\n            {/* Slot Type Picker */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-medium mb-2\">Select Time Slot Type:</h3>\n              <div className=\"flex flex-wrap gap-2\">\n                {slotOptions.map((opt) => (\n                  <button\n                    key={opt.value}\n                    onClick={() => {\n                      setSlotSize(opt.value)\n                      setStartHour(null)\n                    }}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium shadow-sm transition-all ${\n                      slotSize === opt.value\n                        ? 'bg-blue-600 text-white'\n                        : 'bg-gray-100 hover:bg-gray-200'\n                    }`}\n                  >\n                    {opt.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Start Hour Picker */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-medium mb-2\">Select Start Hour:</h3>\n              <div className=\"grid grid-cols-6 gap-2 text-xs\">\n                {allHalfHourSlots.map((h, idx) => (\n                  <button\n                    key={idx}\n                    onClick={() => setStartHour(h)}\n                    className={`border rounded px-3 py-1 font-medium text-xs ${\n                      startHour === h ? 'bg-blue-500 text-white shadow' : 'hover:bg-blue-100'\n                    }`}\n                  >\n                    {formatHour(h)}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Final Range Display */}\n            {slotRange && (\n              <div className=\"text-sm mt-4\">\n                <strong>Selected Range:</strong>{' '}\n                <span className=\"text-blue-600\">\n                  {slotRange.startLabel} → {slotRange.endLabel}\n                </span>\n              </div>\n            )}\n            \n            {/* Show User Info or Auth Options */}\n<UserSchedule />\n\n          </div>\n\n          {/* Right Column: Appointment Form */}\n          {slotRange && startHour !== null && (\n            <div className=\"w-full lg:w-1/2\">\n              <AppointmentForm\n                selectedDate={selectedDate}\n                slotRange={slotRange}\n                slotSize={slotSize}\n                startHour={startHour}\n                onComplete={onClose}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1384, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/schedule/page.js"],"sourcesContent":["'use client'\n\nimport React, { useState, useMemo } from 'react'\nimport {\n  startOfMonth,\n  startOfWeek,\n  addDays,\n  isSameMonth,\n  isToday,\n  format\n} from 'date-fns'\nimport { CalendarDays } from 'lucide-react'\nimport Modal from './components/Modal'\nimport './calendarStyles.css'\n\n\nexport default function SchedulePage() {\n  const [currentDate, setCurrentDate] = useState(new Date())\n  const [selectedDate, setSelectedDate] = useState(null)\n  const [modalOpen, setModalOpen] = useState(false)\n\n  const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n\n  const handleDayClick = (date) => {\n    setSelectedDate(date)\n    setModalOpen(true)\n  }\n\n  const goToPrevMonth = () => {\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1))\n  }\n\n  const goToNextMonth = () => {\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1))\n  }\n\n  // Generate 42 days starting from Sunday of first week\n  const days = useMemo(() => {\n    const start = startOfWeek(startOfMonth(currentDate), { weekStartsOn: 0 })\n    return Array.from({ length: 42 }, (_, i) => addDays(start, i))\n  }, [currentDate])\n\n  // Chunk days into 6 rows for the calendar\n  const weeks = []\n  for (let i = 0; i < days.length; i += 7) {\n    weeks.push(days.slice(i, i + 7))\n  }\n\n  return (\n    <div className=\"calendar-bg bg-gray-50 mb-7 flex flex-col\">\n      {/* Header */}\n      {/* <h1 className=\"text-4xl font-bold mb-6 flex items-center gap-3\">\n        <CalendarDays className=\"w-7 h-7\" />\n        Full Schedule\n      </h1> */}\n\n<div className=\"\">\n      {/* Month Navigation */}\n      <div className=\"month-header bg-gray-700 w-full px-3 py-5 flex items-center justify-between mx-auto\">\n        <button onClick={goToPrevMonth} className=\"text-center rounded-full bg-gray-900 pl-3 pr-4 py-2 rounded text-white\">⫷</button>\n        <h2 className=\"text-2xl text-white font-semibold\">\n          {format(currentDate, 'MMMM yyyy')}\n        </h2>\n        <button onClick={goToNextMonth} className=\"text-center rounded-full bg-gray-900 pl-4 pr-3 py-2 rounded text-white\">⫸</button>\n      </div>\n\n      {/* Calendar Table */}\n      <div className=\"w-full mx-auto\">\n        <table className=\"w-full border-collapse table-fixed calendar-table\">\n          <thead>\n            <tr className=\"bg-gray-700 text-white\">\n              {weekdays.map((day) => (\n                <th key={day} className=\"py-2 text-center font-semibold\">{day}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {weeks.map((week, wi) => (\n              <tr key={wi}>\n                {week.map((date, di) => {\n                  const isCurrentMonth = isSameMonth(date, currentDate)\n                  const isTodayDate = isToday(date)\n\n                  const tdClass = [\n                    'h-24',\n                    'text-center',\n                    'align-top',\n                    'border',\n                    'p-2',\n                    'cursor-pointer',\n                    'select-none',\n                    'rounded',\n                    'transition-all',\n                    isTodayDate ? 'today-cell text-white font-bold' : '',\n                    !isCurrentMonth ? 'text-gray-400' : '',\n                    'hover:bg-blue-100'\n                  ].join(' ')\n                  \n\n                  return (\n                    <td\n                      key={di}\n                      onClick={() => handleDayClick(date)}\n                      className={tdClass}\n                    >\n                      {format(date, 'd')}\n                    </td>\n                  )\n                })}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      </div>\n      {/* Modal */}\n      {modalOpen && (\n        <Modal onClose={() => setModalOpen(false)} selectedDate={selectedDate} />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAZA;;;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,WAAW;QAAC;QAAO;QAAO;QAAO;QAAO;QAAO;QAAO;KAAM;IAElE,MAAM,iBAAiB,CAAC;QACtB,gBAAgB;QAChB,aAAa;IACf;IAEA,MAAM,gBAAgB;QACpB,eAAe,IAAI,KAAK,YAAY,WAAW,IAAI,YAAY,QAAQ,KAAK,GAAG;IACjF;IAEA,MAAM,gBAAgB;QACpB,eAAe,IAAI,KAAK,YAAY,WAAW,IAAI,YAAY,QAAQ,KAAK,GAAG;IACjF;IAEA,sDAAsD;IACtD,MAAM,OAAO,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACnB,MAAM,QAAQ,CAAA,GAAA,0IAAA,CAAA,cAAW,AAAD,EAAE,CAAA,GAAA,2IAAA,CAAA,eAAY,AAAD,EAAE,cAAc;YAAE,cAAc;QAAE;QACvE,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAG,GAAG,CAAC,GAAG,IAAM,CAAA,GAAA,sIAAA,CAAA,UAAO,AAAD,EAAE,OAAO;IAC7D,GAAG;QAAC;KAAY;IAEhB,0CAA0C;IAC1C,MAAM,QAAQ,EAAE;IAChB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,KAAK,EAAG;QACvC,MAAM,IAAI,CAAC,KAAK,KAAK,CAAC,GAAG,IAAI;IAC/B;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAOnB,8OAAC;gBAAI,WAAU;;kCAET,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,SAAS;gCAAe,WAAU;0CAAyE;;;;;;0CACnH,8OAAC;gCAAG,WAAU;0CACX,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EAAE,aAAa;;;;;;0CAEvB,8OAAC;gCAAO,SAAS;gCAAe,WAAU;0CAAyE;;;;;;;;;;;;kCAIrH,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;8CACC,cAAA,8OAAC;wCAAG,WAAU;kDACX,SAAS,GAAG,CAAC,CAAC,oBACb,8OAAC;gDAAa,WAAU;0DAAkC;+CAAjD;;;;;;;;;;;;;;;8CAIf,8OAAC;8CACE,MAAM,GAAG,CAAC,CAAC,MAAM,mBAChB,8OAAC;sDACE,KAAK,GAAG,CAAC,CAAC,MAAM;gDACf,MAAM,iBAAiB,CAAA,GAAA,0IAAA,CAAA,cAAW,AAAD,EAAE,MAAM;gDACzC,MAAM,cAAc,CAAA,GAAA,sIAAA,CAAA,UAAO,AAAD,EAAE;gDAE5B,MAAM,UAAU;oDACd;oDACA;oDACA;oDACA;oDACA;oDACA;oDACA;oDACA;oDACA;oDACA,cAAc,oCAAoC;oDAClD,CAAC,iBAAiB,kBAAkB;oDACpC;iDACD,CAAC,IAAI,CAAC;gDAGP,qBACE,8OAAC;oDAEC,SAAS,IAAM,eAAe;oDAC9B,WAAW;8DAEV,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EAAE,MAAM;mDAJT;;;;;4CAOX;2CA9BO;;;;;;;;;;;;;;;;;;;;;;;;;;;YAsChB,2BACC,8OAAC,sIAAA,CAAA,UAAK;gBAAC,SAAS,IAAM,aAAa;gBAAQ,cAAc;;;;;;;;;;;;AAIjE","debugId":null}}]
}