{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/loading/components/LoadingStatus.js"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { subscribeToLoadingChanges, getLoadingProgress } from '../loadingManager';\n\n// Displays loading % as a simple overlay or inline component\nexport default function LoadingStatus({ overlay = true }) {\n  const [percent, setPercent] = useState(getLoadingProgress().percent);\n\n  useEffect(() => {\n    const unsubscribe = subscribeToLoadingChanges((progress) => {\n      setPercent(progress.percent);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  if (percent === 100) return null;\n\n  return overlay ? (\n    <div className=\"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50\">\n      <div className=\"text-xl font-semibold text-gray-800 animate-pulse\">\n        Loading... {percent}%\n      </div>\n    </div>\n  ) : (\n    <div className=\"text-sm text-gray-500 mb-4\">Loading: {percent}%</div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAMe,SAAS,cAAc,EAAE,UAAU,IAAI,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,CAAA,GAAA,gIAAA,CAAA,qBAAkB,AAAD,IAAI,OAAO;IAEnE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,CAAA,GAAA,gIAAA,CAAA,4BAAyB,AAAD,EAAE,CAAC;YAC7C,WAAW,SAAS,OAAO;QAC7B;QACA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,IAAI,YAAY,KAAK,OAAO;IAE5B,OAAO,wBACL,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;gBAAoD;gBACrD;gBAAQ;;;;;;;;;;;6BAIxB,8OAAC;QAAI,WAAU;;YAA6B;YAAU;YAAQ;;;;;;;AAElE","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/products/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useCart } from \"react-use-cart\";\nimport Link from \"next/link\";\nimport { registerTask, markTaskDone } from \"../loading/loadingManager\";\nimport LoadingStatus from \"../loading/components/LoadingStatus\";\n\nconst ProductsPage = () => {\n  const { addItem } = useCart();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    registerTask(\"fetchProducts\", 3);\n\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get('/api/products'); // Now safe\n        console.log(\"‚úÖ WooCommerce Products Retrieved:\", response.data);\n        setProducts(response.data);\n        markTaskDone(\"fetchProducts\");\n      } catch (err) {\n        console.error(\"‚ùå Error fetching products:\", err);\n        setError(\"Failed to load products.\");\n        markTaskDone(\"fetchProducts\");\n      }\n      setLoading(false);\n    };\n\n    fetchProducts();\n  }, []);\n\n  if (loading) return <LoadingStatus overlay={true} />;\n  if (error) return <p className=\"text-red-500 text-center\">{error}</p>;\n\n  return (\n    <div className=\"max-w-4xl mx-auto mt-10 p-6\">\n      <h2 className=\"text-2xl font-semibold text-center mb-4\">Products</h2>\n      {products.length === 0 ? (\n        <p className=\"text-center\">No products found.</p>\n      ) : (\n        <ul className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n          {products.map((product) => (\n            <li key={product.id} className=\"border p-4 rounded-lg shadow\">\n              <Link href={`/products/${product.slug}`}>\n                <img\n                  src={product.images[0]?.src}\n                  alt={product.name}\n                  className=\"w-full h-40 object-cover mb-2 rounded cursor-pointer\"\n                />\n              </Link>\n\n              <h3 className=\"text-lg font-semibold\">{product.name}</h3>\n              <p className=\"text-gray-700\">${product.price}</p>\n\n              <div className=\"flex justify-center gap-4 mt-4\">\n                <button\n                  onClick={() => {\n                    addItem({\n                      id: product.id,\n                      name: product.name,\n                      price: product.price,\n                      quantity: 1,\n                    });\n\n                    window.dispatchEvent(\n                      new CustomEvent(\"notify\", {\n                        detail: {\n                          message: `üõí Added ${product.name} to cart!`,\n                          type: \"success\",\n                        },\n                      })\n                    );\n                  }}\n                  className=\"flex-1 bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition\"\n                >\n                  üõí Add to Cart\n                </button>\n\n                <Link href={`/products/${product.slug}`}>\n                  <button className=\"flex-1 bg-gray-300 text-black p-2 rounded hover:bg-gray-400 transition\">\n                    View More\n                  </button>\n                </Link>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default ProductsPage;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,eAAe;IACnB,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,2KAAA,CAAA,UAAO,AAAD;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD,EAAE,iBAAiB;QAE9B,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,kBAAkB,WAAW;gBAC9D,QAAQ,GAAG,CAAC,qCAAqC,SAAS,IAAI;gBAC9D,YAAY,SAAS,IAAI;gBACzB,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD,EAAE;YACf,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,SAAS;gBACT,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD,EAAE;YACf;YACA,WAAW;QACb;QAEA;IACF,GAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,8OAAC,6IAAA,CAAA,UAAa;QAAC,SAAS;;;;;;IAC5C,IAAI,OAAO,qBAAO,8OAAC;QAAE,WAAU;kBAA4B;;;;;;IAE3D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;YACvD,SAAS,MAAM,KAAK,kBACnB,8OAAC;gBAAE,WAAU;0BAAc;;;;;qCAE3B,8OAAC;gBAAG,WAAU;0BACX,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;wBAAoB,WAAU;;0CAC7B,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;0CACrC,cAAA,8OAAC;oCACC,KAAK,QAAQ,MAAM,CAAC,EAAE,EAAE;oCACxB,KAAK,QAAQ,IAAI;oCACjB,WAAU;;;;;;;;;;;0CAId,8OAAC;gCAAG,WAAU;0CAAyB,QAAQ,IAAI;;;;;;0CACnD,8OAAC;gCAAE,WAAU;;oCAAgB;oCAAE,QAAQ,KAAK;;;;;;;0CAE5C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS;4CACP,QAAQ;gDACN,IAAI,QAAQ,EAAE;gDACd,MAAM,QAAQ,IAAI;gDAClB,OAAO,QAAQ,KAAK;gDACpB,UAAU;4CACZ;4CAEA,OAAO,aAAa,CAClB,IAAI,YAAY,UAAU;gDACxB,QAAQ;oDACN,SAAS,CAAC,SAAS,EAAE,QAAQ,IAAI,CAAC,SAAS,CAAC;oDAC5C,MAAM;gDACR;4CACF;wCAEJ;wCACA,WAAU;kDACX;;;;;;kDAID,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;kDACrC,cAAA,8OAAC;4CAAO,WAAU;sDAAyE;;;;;;;;;;;;;;;;;;uBArCxF,QAAQ,EAAE;;;;;;;;;;;;;;;;AAgD/B;uCAEe","debugId":null}}]
}