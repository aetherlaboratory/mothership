{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/goldtome/Desktop/mothership/app/components/SearchSite.js"],"sourcesContent":["// app/components/SearchSite.js\n\n'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useFormik } from 'formik'\nimport { Index } from 'flexsearch'\nimport Link from 'next/link'\nimport { useSearchToggle } from '../hooks/useSearchToggle' // ✅ import toggle\n\n\nconst mockData = [\n  {\n    id: 1,\n    type: 'page',\n    title: 'About Us',\n    path: '/about',\n    text: 'Learn more about our mission, values, and team.',\n  },\n  {\n    id: 2,\n    type: 'page',\n    title: 'Services',\n    path: '/services',\n    text: 'We offer web development, design, and consulting services.',\n  },\n  {\n    id: 3,\n    type: 'user',\n    title: 'Jane Doe',\n    username: 'janedoe',\n    path: '/view-profile/janedoe',\n    image: 'https://placehold.co/300x300?text=Jane+Doe',\n    text: 'Full-stack developer and admin user.',\n  },\n  {\n    id: 4,\n    type: 'user',\n    title: 'John Smith',\n    username: 'johnsmith',\n    path: '/view-profile/johnsmith',\n    image: 'https://placehold.co/300x300?text=John+Smith',\n    text: 'Creative director and UX designer.',\n  },\n  {\n    id: 5,\n    type: 'user',\n    title: 'Lisa Ray',\n    username: 'lisaray',\n    path: '/view-profile/lisaray',\n    image: 'https://placehold.co/300x300?text=Lisa+Ray',\n    text: 'Frontend engineer and component builder.',\n  },\n]\n\n\nexport default function SearchSite() {\n  const { showSearch } = useSearchToggle() // ✅ gets global visibility state\n  const [index, setIndex] = useState(null)\n  const [results, setResults] = useState([])\n  const [inputTouched, setInputTouched] = useState(false)\n\n  useEffect(() => {\n    const newIndex = new Index({ tokenize: 'forward', preset: 'match' })\n    mockData.forEach((item) => {\n      let content = item.text\n      if (item.title) content += ' ' + item.title\n      newIndex.add(item.id, content)\n    })\n    setIndex(newIndex)\n  }, [])\n\n  const formik = useFormik({\n    initialValues: {\n      search: '',\n    },\n    onSubmit: () => {}, // no-op\n  })\n\n  useEffect(() => {\n    const runSearch = async () => {\n      if (!index || !formik.values.search) {\n        setResults([])\n        return\n      }\n\n      const matches = await index.search(formik.values.search)\n      const found = mockData.filter((item) => matches.includes(item.id))\n      setResults(found)\n    }\n\n    runSearch()\n  }, [formik.values.search, index])\n\n  const userResults = results.filter((item) => item.type === 'user')\n  const contentResults = results.filter((item) => item.type !== 'user')\n\n  if (!showSearch) return null // ✅ hidden until toggled\n\n  return (\n    <div className=\"animate__animated animate__fadeInDown bg-white border border-gray-200 px-3 shadow-sm rounded-lg space-y-6 w-full max-w-7xl mx-auto mt-6\">\n      <form onSubmit={formik.handleSubmit} className=\"space-y-4 w-full\">\n        <div className=\"space-y-2\">\n          <div className=\"flex flex-wrap\">\n          <input\n            id=\"search\"\n            name=\"search\"\n            type=\"text\"\n            autoComplete=\"off\"\n            onChange={formik.handleChange}\n            onFocus={() => setInputTouched(true)}\n            value={formik.values.search}\n            placeholder=\"Search for pages, content, or users...\"\n            className=\"w-7/12 sm:w-9/12 mx-auto block px-4 mt-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n\n\n           <div className=\"mx-auto flex justify-end align-center pt-4\">\n            <button\n              type=\"submit\"\n              className=\"text-lg px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition\"\n            >\n              Search\n            </button>\n          </div>\n          </div>\n\n\n\n          {inputTouched && (\n            <div\n              key={formik.values.search.length + '-' + inputTouched}\n              className=\"mx-auto w-full sm:w-8/12 md:w-9/12 block pt-2 pl-9 md:ml-0 animate__animated animate__fadeInDown\"\n            >\n              <div className=\"flex flex-wrap justify-center gap-2 pt-2\">\n                {[\n                  { label: 'Products', color: 'bg-red-600' },\n                  { label: 'Users', color: 'bg-green-600' },\n                  { label: 'Pages', color: 'bg-blue-600' },\n                  { label: 'Posts', color: 'bg-purple-600' },\n                  { label: 'Images', color: 'bg-pink-600' },\n                  { label: 'Videos', color: 'bg-yellow-500' },\n                  { label: 'Audio', color: 'bg-indigo-600' },\n                  { label: 'Schedule', color: 'bg-teal-600' },\n                  { label: 'Events', color: 'bg-orange-600' },\n                  { label: 'Food', color: 'bg-lime-600' },\n                  { label: 'Admin', color: 'bg-gray-700' },\n                ].map((btn) => (\n                  <button\n                    key={btn.label}\n                    type=\"button\"\n                    className={`text-white text-xs font-medium px-3 py-1 rounded-full shadow-sm hover:opacity-90 transition ${btn.color}`}\n                    onClick={() => console.log('Filter clicked:', btn.label)}\n                  >\n                    {btn.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n        \n        </div>\n      </form>\n\n      {userResults.length > 0 && (\n        <div className=\"bg-gray-500 p-3 flex flex-wrap gap-4\">\n          {userResults.map((user) => (\n            <Link\n              href={user.path}\n              key={user.id}\n              className=\"relative w-[180px] h-[220px] rounded-xl overflow-hidden shadow group\"\n            >\n              <img\n                src={user.image}\n                alt={user.username}\n                className=\"w-full h-full object-cover group-hover:scale-105 transition-transform\"\n              />\n              <div className=\"absolute inset-0 bg-black/40\" />\n              <div className=\"w-full absolute bottom-2 left-1/2 transform -translate-x-1/2 text-white font-semibold text-sm bg-black/60 px-2 py-1 rounded\">\n                {user.title}\n              </div>\n              <div className=\"absolute top-2 right-2 h-3 w-3 bg-green-400 rounded-full shadow-md animate-pulse online-status\" />\n            </Link>\n          ))}\n        </div>\n      )}\n\n      <div>\n        {results.length === 0 && formik.values.search && (\n          <p className=\"text-sm text-gray-500 italic\">\n            No results found for “{formik.values.search}”.\n          </p>\n        )}\n\n        <ul className=\"space-y-4\">\n          {contentResults.map((item) => (\n            <li key={item.id} className=\"border rounded-lg p-4 hover:shadow-sm transition\">\n              <Link href={item.path} className=\"text-lg font-semibold text-blue-600 hover:underline\">\n                {item.title}\n              </Link>\n              <p className=\"text-sm text-gray-700 mt-1\">{item.text}</p>\n              <span className=\"text-xs text-gray-400 block mt-1\">Type: {item.type}</span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}